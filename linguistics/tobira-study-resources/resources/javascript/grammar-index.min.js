!function(e,n){"use strict";n.body.className="helper-"+(storageOK&&"false"==localStorage.furiganaVisible?"hidden":"present"),e.TobiraGRIndex={toggle:function(e,t){var o=n.getElementById("exercises-"+t);/Show/.test(e.innerHTML)?(o.style.display="block",e.innerHTML=e.innerHTML.replace("Show","Hide")):(o.style.display="",e.innerHTML=e.innerHTML.replace("Hide","Show"))},toggleAll:function(e){var t=/Show/.test(e.innerHTML)?"show":"hide";TobiraGRIndex.buttons||(TobiraGRIndex.buttons=n.querySelectorAll(".grammar-toggler"));for(var o=0,r=TobiraGRIndex.buttons.length;o<r;o++)"show"==t&&/Show/.test(TobiraGRIndex.buttons[o].innerHTML)?TobiraGRIndex.buttons[o].click():"hide"==t&&/Hide/.test(TobiraGRIndex.buttons[o].innerHTML)&&TobiraGRIndex.buttons[o].click();e.innerHTML="show"==t?e.innerHTML.replace("Show","Hide"):e.innerHTML.replace("Hide","Show")},jump:function(){if(/l\d+-p\d+|lesson-grammar-\d+/.test(e.location.hash)){var t=/lesson-grammar-\d+/.test(e.location.hash),o=t?e.location.hash.replace(/.*?lesson-grammar-(\d+).*?/,"$1"):e.location.hash.replace(/.*?l(\d+)-p\d+.*?/,"$1"),r=e.location.hash.replace(/.*?l\d+-p(\d+).*?/,"$1"),a=n.getElementById("toggler-"+o);if(/Show/.test(a.innerHTML)){a.click();try{n.getElementById(t?"lesson-grammar-"+o:"l"+o+"-p"+r).scrollIntoView()}catch(n){e.location.hash="#",e.location.hash=t?"#lesson-grammar-"+o:"#l"+o+"-p"+r}}}}},n.addEventListener("click",function(n){n.target&&n.target.href&&/l\d+-p\d+|lesson-grammar-\d+/.test(n.target.href)&&e.setTimeout(TobiraGRIndex.jump,50)})}(window,document);