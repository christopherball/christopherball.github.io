!function(e,t){"use strict";if(t.getElementById("announcement")&&(e.GenkiAnn={rotation:!1,msg:[{content:"As of March 3rd, 2023, all exercises for Tobira's lessons are now available! If you encounter any issues or have a question, please feel free to contact me on <a href=\"https://github.com/SethClydesdale/tobira-study-resources/issues\">GitHub</a>. I wish you all the best on your Japanese studies! 頑張って！٩( 'ω' )و"},{content:'Interested in learning Japanese? Check out <a href="'+getPaths()+'help/japanese-guide/">our guide</a> for more information on how to learn the language, as well as useful tools that you can utilize in your studies!'},{content:'Looking for more self-study resources? Visit the <a href="https://tobiraweb.9640.jp/">official website</a> for Tobira or check out some of the resources in the <a href="https://github.com/SethClydesdale/tobira-study-resources#resources-for-studying-japanese">readme</a> on GitHub.'},{content:'Want to stay up to date on the latest changes made to Tobira Study Resources? You can follow updates via <a href="https://github.com/SethClydesdale/tobira-study-resources/commits/main">GitHub</a>, <a href="https://twitter.com/search?q=%23TobiraStudyResources%20from%3Asethc1995&src=typed_query&f=live">Twitter</a>, or <a href="https://ko-fi.com/sethc95/posts">Ko-fi</a>. Feel free to also contact us on <a href="https://github.com/SethClydesdale/tobira-study-resources/issues">GitHub</a> if you have any questions or feedback.'},{content:'Have a question about the site? Check out the <a href="'+getPaths()+"help/\">FAQ</a>! If you can't find an answer to your question, feel free to contact us via <a href=\"https://github.com/SethClydesdale/tobira-study-resources/issues\">GitHub's issues</a> and we'll try to answer your question in a timely manner."},{content:'Find a bug or mistake on the site? Want to submit a suggestion or give us feedback? Check out the <a href="'+getPaths()+"report/\">report page</a> for more information. We'd love to hear from you!"},{content:"Don't have a network connection all the time? Tobira Study Resources can be used offline as well! Head on over to the <a href=\""+getPaths()+'download/">download page</a> to get the latest release.'},{content:'If you found this tool helpful for studying with Tobira, please consider making <a href="'+getPaths()+'donate/">a donation</a> to help support my work. Thank you!'}],index:0,list:t.getElementById("announce-list"),next:function(t,n){GenkiAnn.msg[GenkiAnn.index].className+=" announce-hidden","number"==typeof t?(GenkiAnn.index+=t,-1==GenkiAnn.index&&(GenkiAnn.index=GenkiAnn.msg.length-1)):GenkiAnn.index++,GenkiAnn.msg[GenkiAnn.index]||(GenkiAnn.index=0),GenkiAnn.msg[GenkiAnn.index].className=GenkiAnn.msg[GenkiAnn.index].className.replace(" announce-hidden",""),GenkiAnn.rotation&&n&&(e.clearInterval(GenkiAnn.rotator),GenkiAnn.rotate())},rotate:function(){GenkiAnn.rotator=e.setInterval(GenkiAnn.next,15e3)},init:function(){if(GenkiAnn.msg.length>1){t.getElementById("announcement-controls").style.display="";for(var e=0,n=GenkiAnn.msg.length,a="",o=!0;e<n;e++)GenkiAnn.msg[e].edition&&GenkiAnn.msg[e].edition.toLowerCase()!=GenkiAnn.edition||(a+='<div class="announcement'+(o?"":" announce-hidden")+'">'+(GenkiAnn.msg[e].date?'<span class="date">'+GenkiAnn.msg[e].date+"</span>":"")+GenkiAnn.msg[e].content+"</div>",o&&(o=!1));GenkiAnn.list.insertAdjacentHTML("beforeend",a),GenkiAnn.msg=t.querySelectorAll(".announcement"),GenkiAnn.rotation&&GenkiAnn.rotate()}}},GenkiAnn.init()),t.getElementById("quick-search")){if(e.QuickSearcher={grammarIndex:/grammar-index/.test(e.location.href),search:t.getElementById("quick-search"),results:t.getElementById("quick-search-results"),hitsCounter:t.getElementById("quick-search-hits"),li:null,exLen:null,query:function(n){e.GenkiSearchTimeout&&e.clearTimeout(GenkiSearchTimeout),e.GenkiSearchTimeout=e.setTimeout(function(){var a,o=t.createDocumentFragment(),i=0,r=0;if(QuickSearcher.results.innerHTML="",n)for(;r<QuickSearcher.exLen;r++)-1!=QuickSearcher.li[r].innerText.toLowerCase().indexOf(n.toLowerCase())&&QuickSearcher.li[r].getElementsByTagName("A")[0]&&!/note/.test(QuickSearcher.li[r].id)&&(QuickSearcher.grammarIndex?(a=t.createElement("LI")).innerHTML='<a href="#'+QuickSearcher.li[r].id+'">'+QuickSearcher.li[r].innerText.replace(/|/g,"")+"</a>":a=QuickSearcher.li[r].cloneNode(!0),a.dataset.lesson=QuickSearcher.grammarIndex?"L"+QuickSearcher.li[r].id.replace(/l(\d+)-p\d+/,"$1"):a.getElementsByTagName("A")[0].href.replace(/.*?\/(lesson-\d+).*|.*?\/(study-tools).*|.*?\/(appendix).*/,function(e,t,n,a){return t?t.charAt(0).toUpperCase()+t.split("-").pop():n?"tool":a?"appendix":void 0}),a.title=a.innerText,/^file|^http/.test(a.dataset.lesson)||(o.appendChild(a),i++));o.childNodes.length?QuickSearcher.results.appendChild(o):QuickSearcher.results.innerHTML=n?'<li>No results found for "'+n+'".</li>':"",QuickSearcher.hitsCounter.innerHTML=i?"("+i+') <a class="fa" style="color:#17A;" href="#copy-search-link" title="Copy the search link" onclick="GenkiModal.open({title : \'Copy Search Link\',content : \'<div class=&quot;center&quot;><p>You can copy the direct search link from the box below.</p><textarea id=&quot;copied-search-link&quot; onfocus=&quot;this.select();&quot; style=&quot;width:80%;height:100px;&quot;>'+e.location.protocol+"//"+e.location.host+e.location.pathname+"?search="+encodeURIComponent(n)+"#quick-search-exercises</textarea></div>',focus : '#copied-search-link'}); return false;\">&#xf0ea;</a>":"",delete e.GenkiSearchTimeout},300)}},QuickSearcher.li=t.querySelectorAll(QuickSearcher.grammarIndex?".workbook-title":".lesson-exercises li"),QuickSearcher.exLen=QuickSearcher.li.length,e.location.search)for(var n,a=e.location.search.slice(1).split("&"),o=0,i=a.length;o<i;o++)if(n=a[o].split("="),/^search$/i.test(n[0])){QuickSearcher.search.value=decodeURIComponent(n[1]);break}QuickSearcher.search.oninput=function(){QuickSearcher.query(this.value)},QuickSearcher.search.value&&QuickSearcher.query(QuickSearcher.search.value)}var r;for(o=0,i=(c=t.querySelectorAll("#quick-nav-list a")).length;o<i;o++)/lesson-(?:grammar-|)\d+/.test(c[o])&&(r=c[o].href.replace(/.*?lesson-(?:grammar-|)(\d+).*/,"$1"),c[o].insertAdjacentHTML("beforebegin",'<a class="sub-section-button fa" href="#toggle-sub-section" onclick="ToggleSubSection(this, '+r+'); return false;" title="Toggle sub-sections" data-open="false"></a>'),c[o].insertAdjacentHTML("afterend",'<ul style="display:none;"></ul>'),c[o].parentNode.className+=" noBullet");if(e.ToggleSubSection=function(e,n){var a=e.parentNode.lastChild;if(!a.innerHTML){for(var o=t.querySelectorAll("#exercises-"+n+" h3"),i=0,r=o.length,s="";i<r;i++)s+='<li><a href="#'+o[i].id+'">'+o[i].innerText.replace(/\s\(.*\)$/,"").replace(/|/g,"")+"</a></li>";a.innerHTML=s}/none/.test(a.style.display)?(a.style.display="block",e.dataset.open=!0):(a.style.display="none",e.dataset.open=!1)},AddJumpArrowsTo(".lesson-title","quick-nav","Jump to Quick Navigation"),storageOK&&localStorage.TobiraResults){var s,c,l=JSON.parse(localStorage.TobiraResults);for(s in l)(c=t.querySelector('a[href*="'+s+'"]'))&&c.parentNode.insertAdjacentHTML("beforeend",'&nbsp;<span class="exercise-results result--'+(100==l[s]?"perfect":l[s]>=70?"good":l[s]>=50?"average":"low")+'" title="Exercise score"><i class="fa">'+(100==l[s]?"&#xf005;":l[s]>=70?"&#xf00c;":l[s]>=50?"&#xf10c;":"&#xf00d;")+"</i> "+l[s]+"%</span>")}}(window,document);