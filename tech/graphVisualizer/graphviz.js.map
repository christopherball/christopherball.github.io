{"version":3,"sources":["viz.js","graphviz.ts"],"names":["_typeof","classCallCheck","createClass","_extends","WorkerWrapper","ModuleWrapper","Viz","defaultScale","window","devicePixelRatio","Symbol","iterator","obj","constructor","prototype","instance","Constructor","TypeError","defineProperties","target","props","i","descriptor","length","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","assign","source","arguments","hasOwnProperty","call","worker","_this","this","listeners","nextId","addEventListener","event","id","data","error","result","value","src","options","_this2","Promise","resolve","reject","Error","message","fileName","lineNumber","postMessage","module","render","_ref3","undefined","workerURL","Module","wrapper","Worker","_ref4","_ref4$format","format","_ref4$engine","engine","_ref4$files","files","_ref4$images","images","_ref4$yInvert","yInvert","_ref4$nop","nop","push","path","width","height","renderString","then","str","DOMParser","parseFromString","documentElement","scale","mimeType","quality","fabric","loadSVGFromString","svgXml","_ref2","_ref2$scale","_ref2$mimeType","_ref2$quality","multiplier","objects","element","canvas","image","document","createElement","Canvas","enableRetinaScaling","util","groupSVGElements","add","renderAll","Image","toDataURL","svgXmlToImageElementFabric","_ref","_ref$scale","_ref$mimeType","_ref$quality","svgImage","onload","getContext","drawImage","toBlob","blob","URL","createObjectURL","onerror","e","btoa","encodeURIComponent","replace","match","p1","String","fromCharCode","svgXmlToImageElement","JSON","parse","version","TimeoutError","urlBase","s","m","currentScript","proxy","location","pathname","indexOf","protocol","http:","https:","[object Object]","nextTrID","trans","Map","timeoutTimer","setTimeout","loadp","Date","now","toFixed","clearTimeout","ev","msg","type","stopPropagation","t","get","trid","delete","createIframe","set","w","timeout","transaction","args","proxyUrl","iframe","style","position","visibility","pointerEvents","sandbox","border","appendChild","contentWindow","layout","bind","_viz","restartWorker","terminate","catch","err"],"mappings":"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","file":"graphviz.js","sourceRoot":"../src"}